<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Jonas Assistance</title>
<style>
  body { background: #121212; color: #eee; font-family: Arial, sans-serif; }
  #chat { height: 400px; overflow-y: auto; border: 1px solid #555; padding: 10px; margin-bottom: 10px; background: #222; }
  .message { margin: 5px 0; }
  .user { color: #6cf; }
  .bot { color: #9f9; }
</style>
</head>
<body>

<div id="chat"></div>
<input type="text" id="userInput" placeholder="Pose ta question..." autocomplete="off" />
<button onclick="sendMessage()">Envoyer</button>

<script>
let base = {
  "comment vas-tu": "Je vais bien, merci.",
  "qui es-tu": "Je suis Jonas Assistance, ton assistant intelligent.",
  "qui est ton créateur": "Mon créateur est Jonas Sleiman.",
  "quelle est la capitale de la france": "La capitale de la France est Paris.",
  "quel est le plus grand animal": "La baleine bleue est le plus grand animal vivant.",
  // ... ajoute ici toutes tes 500 questions-réponses ...
};

// Charger la base depuis localStorage si elle existe
const storedBase = localStorage.getItem('jonas_base');
if (storedBase) {
  base = JSON.parse(storedBase);
}

const chat = document.getElementById("chat");
const input = document.getElementById("userInput");

function addMessage(text, sender) {
  const div = document.createElement("div");
  div.className = "message " + sender;
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function sendMessage() {
  const question = input.value.trim().toLowerCase();
  if (!question) return;
  
  addMessage("Toi : " + input.value, "user");
  input.value = "";

  if (base[question]) {
    // Réponse connue
    addMessage("Jonas : " + base[question], "bot");
  } else {
    // Réponse inconnue => demander à l'utilisateur
    addMessage("Jonas : Je ne connais pas la réponse. Peux-tu me la dire ?", "bot");
    waitForAnswer(question);
  }
}

function waitForAnswer(question) {
  input.disabled = false;
  input.focus();

  function handleAnswer(event) {
    if (event.key === "Enter") {
      const answer = input.value.trim();
      if (answer) {
        addMessage("Toi (réponse) : " + answer, "user");
        base[question] = answer;
        localStorage.setItem('jonas_base', JSON.stringify(base));
        addMessage("Jonas : Merci, j'ai appris quelque chose de nouveau !", "bot");
        input.value = "";
        input.removeEventListener("keydown", handleAnswer);
      }
    }
  }

  input.addEventListener("keydown", handleAnswer);
}

</script>
</body>
</html>






